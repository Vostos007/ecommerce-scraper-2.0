# UI Dashboard

UI Dashboard ‚Äî —ç—Ç–æ Next.js 15.5.4 + React 19 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Python —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–∞–º–∏, real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ–∫—Å–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

## Tech Stack
- **Frontend**: Next.js 15.5.4, React 19.1.1, TypeScript 5.9.2
- **UI**: –∫–∞—Å—Ç–æ–º–Ω—ã–µ shadcn-style –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–±–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞), Tailwind CSS v4.0.0-beta.7, lucide-react
- **State**: TanStack Query v5.87.1, Zustand v5.0.8
- **Testing**: Vitest 3.2.4, Testing Library, jsdom
- **Linting**: ESLint 9.17.0, Prettier 3.4.2

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üöÄ –ó–∞–ø—É—Å–∫ Python —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üìä –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ SSE
- üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ JSON –∫–∞—Ä—Ç —Å–∞–π—Ç–æ–≤ –ø—Ä—è–º–æ –∏–∑ UI
- üß≠ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ API –∫–ª–∏–µ–Ω—Ç—ã –∏ —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è Zod
- üîê Rate limiting –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫ subprocess
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç—ë–º–Ω—ã–π UI —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ shadcn-style –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ø–æ—Ä—Ç 3055)
```bash
make dashboard-dev
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –±–µ–∑ Make
```bash
cd apps/dashboard
pnpm run dashboard:dev
```

`dashboard-dev` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `python3`, —Å–æ–∑–¥–∞—ë—Ç `.env` –∏–∑ `.env.example`, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python/Node –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ `pip install -r requirements.txt` –∏ `pnpm install`) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç Next.js dev —Å–µ—Ä–≤–µ—Ä –Ω–∞ `http://localhost:3050` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `PYTHON_BIN`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- `PORT` ‚Äî –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `3055`)
- `PYTHON_BIN` ‚Äî —è–≤–Ω—ã–π –ø—É—Ç—å –∫ Python 3.11+
- `SKIP_DASHBOARD_INSTALL=1` ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å `pnpm install` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ CI)
- `DASHBOARD_BOOTSTRAP_MODE=check` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)

## Docker –∑–∞–ø—É—Å–∫
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI: `docker compose -f docker-compose.min.yml up`
- –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫: `docker compose --profile cache --profile proxies --profile monitoring up`
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏: `./scripts/docker-setup.sh dev --minimal` (–∏–ª–∏ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏)

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é dev-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π (`DASHBOARD_AUTH_DISABLED=true`, `NEXT_PUBLIC_DASHBOARD_AUTH_DISABLED=true`), –ø–æ—ç—Ç–æ–º—É UI –¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É —Å —Ä–æ–ª—å—é admin.
- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã–∫–ª—é—á–∏—Ç–µ –∑–∞–≥–ª—É—à–∫—É, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –æ–±–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `false`, –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `SECURE_COOKIES=false`/`FORCE_HTTPS=false` –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –ø–æ `http://localhost`.
- –ë–∞–∑–æ–≤–∞—è admin-–∑–∞–ø–∏—Å—å —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `config/users.json`, –ø–∞—Ä–æ–ª—å: `Hollywool1023`. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥–æ–π —á–µ—Ä–µ–∑ `cd apps/dashboard && pnpm auth:setup --username=<–∏–º—è> --password=<–ø–∞—Ä–æ–ª—å> --role=<—Ä–æ–ª—å>`.
- JWT —Å–µ–∫—Ä–µ—Ç—ã (`JWT_SECRET`, `JWT_ISSUER`, `JWT_AUDIENCE`) –∏ –ø—É—Ç—å –∫ user-store (`USER_STORE_PATH`) –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `.env`.

### Production —Å–±–æ—Ä–∫–∞
```bash
pnpm build
pnpm start
```

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
```bash
pnpm type-check
pnpm lint
pnpm test
pnpm test:coverage
```

## –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
app/                 # Next.js App Router
components/          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn-style —Å—Ç–∏–ª–∏)
components/providers # React Query –∏ –¥—Ä. –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
hooks/               # Custom hooks (React Query + Zustand)
lib/                 # API –∫–ª–∏–µ–Ω—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø—Ä–æ—Ü–µ—Å—Å—ã
stores/              # Zustand state
harness/             # E2E –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Python
- UI –≤—ã–∑—ã–≤–∞–µ—Ç Next.js API routes, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç `python -u -m scripts.<site>_fast_export`
- –õ–æ–≥–∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `/api/streams/:jobId`
- `/api/upload` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON –∫–∞—Ä—Ç—ã, –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Zod
- `/api/proxy/stats` –∑–∞–ø—É—Å–∫–∞–µ—Ç `scripts.proxy_stats_export` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏

## TDD Workflow
- –¢–µ—Å—Ç—ã –ø–∏—à—É—Ç—Å—è Vitest + Testing Library
- Coverage threshold: 80% –∏ –≤—ã—à–µ
- Vitest UI (`pnpm test:ui`) –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–µ–±–∞–≥–∞
- ESLint + Prettier –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js ‚â• 20 (LTS)
- pnpm ‚â• 9 (–ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç lockfile —Ñ–æ—Ä–º–∞—Ç–∞ 9)
- Python ‚â• 3.11 (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `PYTHON_BIN` ‚Äî –ø—É—Ç—å –∫ Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—É (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤)
- `PORT` ‚Äî –ø–æ—Ä—Ç Next.js dev —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3050)
- `NEXT_PUBLIC_APP_URL` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π URL UI (–¥–ª—è dev –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `http://localhost:3055`)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- –ü—Ä–æ–µ–∫—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ Node.js >= 20
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ ‚Äî pnpm
- Tailwind v4 –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ shadcn-style –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ UI
